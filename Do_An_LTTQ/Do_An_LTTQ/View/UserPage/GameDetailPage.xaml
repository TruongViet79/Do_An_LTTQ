<Page x:Class="Do_An_LTTQ.View.UserPage.GameDetailPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:fa="http://schemas.fontawesome.io/icons/"
      xmlns:local="clr-namespace:Do_An_LTTQ.View.UserPage"
      mc:Ignorable="d" 
      d:DesignHeight="800" d:DesignWidth="1000"
      Title="GameDetailPage"
      ShowsNavigationUI="False"
      Background="White">

    <Page.Resources>
        <Style x:Key="CardStyle" TargetType="Border">
            <Setter Property="Background" Value="White"/>
            <Setter Property="CornerRadius" Value="12"/>
            <Setter Property="Padding" Value="20"/>
            <Setter Property="Margin" Value="0,0,0,12"/>
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect Color="Gray" Opacity="0.1" BlurRadius="5" ShadowDepth="1"/>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="TitleStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="15"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Foreground" Value="#9C27B0"/>
            <Setter Property="Margin" Value="0,0,0,10"/>
        </Style>

        <Style x:Key="LabelStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="11"/>
            <Setter Property="Foreground" Value="#999999"/>
            <Setter Property="Margin" Value="0,0,0,4"/>
        </Style>

        <Style x:Key="ValueStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="Foreground" Value="#666666"/>
            <Setter Property="TextWrapping" Value="Wrap"/>
        </Style>
    </Page.Resources>

    <Grid>
        <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
            <StackPanel>
                <Border Height="60">
                    <Border.Background>
                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                            <GradientStop Color="#9C27B0" Offset="0"/>
                            <GradientStop Color="#E91E63" Offset="1"/>
                        </LinearGradientBrush>
                    </Border.Background>
                    <Grid Margin="30,0">
                        <Button Background="Transparent" BorderThickness="0" Cursor="Hand"
                                HorizontalAlignment="Left" VerticalAlignment="Center"
                                Click="BtnBack_Click">
                            <StackPanel Orientation="Horizontal">
                                <fa:ImageAwesome Icon="ArrowLeft" Width="14" Height="14" Foreground="White"/>
                                <TextBlock Text="Back" FontSize="13" Foreground="White" Margin="8,0,0,0"/>
                            </StackPanel>
                        </Button>
                        <TextBlock Text="Game Details" FontSize="20" FontWeight="Bold" 
                                   Foreground="White" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Grid>
                </Border>

                <Grid Margin="30,20,30,30">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="2*"/>
                        <ColumnDefinition Width="20"/>
                        <ColumnDefinition Width="1*"/>
                    </Grid.ColumnDefinitions>

                    <StackPanel>
                        <Border Style="{StaticResource CardStyle}">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="220"/>
                                    <ColumnDefinition Width="15"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <Border CornerRadius="8" Height="160">
                                    <Border.Background>
                                        <ImageBrush ImageSource="{Binding MainCoverImageURL}" Stretch="UniformToFill"/>
                                    </Border.Background>
                                </Border>

                                <StackPanel Grid.Column="2">
                                    <TextBlock Text="{Binding Title}" FontSize="24" 
                                               FontWeight="Bold" Foreground="#9C27B0" Margin="0,0,0,10" TextWrapping="Wrap"/>

                                    <Grid Margin="0,0,0,8">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <StackPanel>
                                            <TextBlock Text="Game ID" Style="{StaticResource LabelStyle}"/>
                                            <TextBlock Text="{Binding GameID}" Style="{StaticResource ValueStyle}"/>
                                        </StackPanel>
                                        <StackPanel Grid.Column="1">
                                            <TextBlock Text="Age Rating" Style="{StaticResource LabelStyle}"/>
                                            <TextBlock Text="{Binding AgeRating}" Style="{StaticResource ValueStyle}"/>
                                        </StackPanel>
                                    </Grid>

                                    <Grid Margin="0,0,0,8">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <StackPanel>
                                            <TextBlock Text="Release Date" Style="{StaticResource LabelStyle}"/>
                                            <TextBlock Text="{Binding ReleaseDate, StringFormat=dd/MM/yyyy}" Style="{StaticResource ValueStyle}"/>
                                        </StackPanel>
                                        <StackPanel Grid.Column="1">
                                            <TextBlock Text="Categories" Style="{StaticResource LabelStyle}"/>
                                            <TextBlock Text="{Binding Categories}" Style="{StaticResource ValueStyle}" TextTrimming="CharacterEllipsis"/>
                                        </StackPanel>
                                    </Grid>

                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <StackPanel>
                                            <TextBlock Text="Base Price" Style="{StaticResource LabelStyle}"/>
                                            <TextBlock Text="{Binding BasePrice, StringFormat={}{0:N0} VNĐ}" Style="{StaticResource ValueStyle}" TextDecorations="Strikethrough"/>
                                        </StackPanel>
                                        <StackPanel Grid.Column="1">
                                            <TextBlock Text="Final Price" Style="{StaticResource LabelStyle}"/>
                                            <TextBlock Text="{Binding FinalPrice, StringFormat={}{0:N0} VNĐ}" FontSize="16" FontWeight="Bold" Foreground="#E91E63"/>
                                        </StackPanel>
                                    </Grid>
                                </StackPanel>
                            </Grid>
                        </Border>

                        <Border Style="{StaticResource CardStyle}">
                            <StackPanel>
                                <TextBlock Text="Description" Style="{StaticResource TitleStyle}"/>
                                <TextBlock Text="{Binding Description}"
                                           FontSize="13" Foreground="#4B5563" TextWrapping="Wrap" LineHeight="20"/>
                            </StackPanel>
                        </Border>

                        <Border Style="{StaticResource CardStyle}">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel>
                                    <TextBlock Text="Developer" Style="{StaticResource TitleStyle}"/>
                                    <TextBlock Text="{Binding DeveloperName}" Style="{StaticResource ValueStyle}" FontWeight="SemiBold"/>
                                </StackPanel>
                                <StackPanel Grid.Column="1">
                                    <TextBlock Text="Publisher" Style="{StaticResource TitleStyle}"/>
                                    <TextBlock Text="{Binding PublisherName}" Style="{StaticResource ValueStyle}" FontWeight="SemiBold"/>
                                </StackPanel>
                            </Grid>
                        </Border>

                        <Border Style="{StaticResource CardStyle}">
                            <StackPanel>
                                <TextBlock Text="System Requirements" Style="{StaticResource TitleStyle}"/>
                                <Border Background="#F9FAFB" CornerRadius="8" Padding="12">
                                    <TextBlock Text="{Binding SystemRequirements}" 
                                               FontSize="12" Foreground="#4B5563" TextWrapping="Wrap" LineHeight="18"/>
                                </Border>
                            </StackPanel>
                        </Border>

                        <Border Style="{StaticResource CardStyle}">
                            <StackPanel>
                                <TextBlock Text="Supported Languages" Style="{StaticResource TitleStyle}"/>
                                <Border Background="#F3F4F6" CornerRadius="5" Padding="10">
                                    <TextBlock Text="{Binding SupportedLanguages}" FontSize="12" Foreground="#6B7280" TextWrapping="Wrap"/>
                                </Border>
                            </StackPanel>
                        </Border>

                        
                    </StackPanel>

                    <StackPanel Grid.Column="2">
                        <Border Style="{StaticResource CardStyle}">
                            <StackPanel>
                                <TextBlock Text="Purchase" Style="{StaticResource TitleStyle}"/>
                                <TextBlock Text="{Binding FinalPrice, StringFormat={}{0:N0} VNĐ}" FontSize="24" FontWeight="Bold" Foreground="#9C27B0" Margin="0,0,0,15"/>

                                <Button Background="#9C27B0" Foreground="White" Content="Add to Cart" 
                                        FontSize="14" FontWeight="Bold" Padding="0,12" Cursor="Hand" 
                                        BorderThickness="0" Margin="0,0,0,15"
                                        Click="btnAddToCart_Click">
                                    <Button.Resources>
                                        <Style TargetType="Border">
                                            <Setter Property="CornerRadius" Value="8"/>
                                        </Style>
                                    </Button.Resources>
                                    <Button.Template>
                                        <ControlTemplate TargetType="Button">
                                            <Border Background="{TemplateBinding Background}" CornerRadius="8" Padding="{TemplateBinding Padding}">
                                                <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                            </Border>
                                        </ControlTemplate>
                                    </Button.Template>
                                </Button>

                                <Rectangle Height="1" Fill="#E5E7EB" Margin="0,0,0,12"/>

                                <TextBlock Text="Game Features" FontSize="13" FontWeight="Bold" Foreground="#9C27B0" Margin="0,0,0,8"/>

                                <StackPanel Orientation="Horizontal" Margin="0,0,0,6">
                                    <fa:ImageAwesome Icon="Check" Width="11" Height="11" Foreground="#10B981"/>
                                    <TextBlock Text="Instant Delivery" FontSize="11" Foreground="#4B5563" Margin="6,0,0,0"/>
                                </StackPanel>
                                <StackPanel Orientation="Horizontal" Margin="0,0,0,6">
                                    <fa:ImageAwesome Icon="Check" Width="11" Height="11" Foreground="#10B981"/>
                                    <TextBlock Text="Genuine Key" FontSize="11" Foreground="#4B5563" Margin="6,0,0,0"/>
                                </StackPanel>
                                <StackPanel Orientation="Horizontal">
                                    <fa:ImageAwesome Icon="Check" Width="11" Height="11" Foreground="#10B981"/>
                                    <TextBlock Text="24/7 Support" FontSize="11" Foreground="#4B5563" Margin="6,0,0,0"/>
                                </StackPanel>
                            </StackPanel>
                        </Border>
                    </StackPanel>
                </Grid>
            </StackPanel>
        </ScrollViewer>
    </Grid>
</Page>